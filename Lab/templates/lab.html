<!-- templates/lab.html -->
{% extends 'base.html' %}

{% load static %}

{% block content %}

<!-- Estos botones están en las templates de la app News porque es la 
que tiene la página de portada 'home' -->
{% include 'includes/_botones_cabecera.html' %}

<!-- Mis estilos -->
<link rel="stylesheet" type="text/css" href="{% static 'css/estilos_lab.css' %}">

<div>
  <br><p class="cabecera">Bienvenido/a al Lab, {{ usuario }}</p>
</div>

<div class="container">
  <div class="row">
    <div class="col">
      <button class="otros-botones" onclick="mostrarOcultosARIMA()">ARIMA</button>
      <div id="ocultos-arima" class="ocultos-arima">
        <br>
        <div>
          <a href="/lab/buscar_paramateros_arima">
            <button class="boton-modelo">Buscar parámetros (p, d, q) con ACF y PACF</button>
          </a>
          <div class="ayuda"> 
            <img class="icono-ayuda" src="{% static 'icons/help.svg' %}" alt="HelpIcon" width="25" height="25">
            <span class="mensaje-ayuda">Para buscar los parámetros (p, d, q) como si lo hiciéramos en papel, viendo las gráficas de ACF y PACF.</span>
          </div>
        </div>
        <br>
        <div>
          <a href="/lab/arima_manual">
            <button class="boton-modelo">Parámetros (p, d, q) introducidos por usuario</button>
          </a>
          <div class="ayuda"> 
            <img class="icono-ayuda" src="{% static 'icons/help.svg' %}" alt="HelpIcon" width="25" height="25">
            <span class="mensaje-ayuda">Para ver una estimación de la próxima sesión. Si conoces los parámetros (p, d, q) que quieres utilizar, porque ajustan un modelo para un stock que conoces bien, este es tu sitio.</span>
          </div>
        </div>
        <br>
        <div>
          <a href="/lab/arima_auto">
            <button class="boton-modelo">Parámetros (p, d, q) estimados automáticamente</button>
          </a>
          <div class="ayuda"> 
            <img class="icono-ayuda" src="{% static 'icons/help.svg' %}" alt="HelpIcon" width="25" height="25">
            <span class="mensaje-ayuda">Para ver una estimación de la próxima sesión. Los parámetros (p,d,q) se estimarán con 'auto_arima' de 'pmdarima.arima'. Los resultados pueden ser malos, pero es muy rápido. </span>
          </div>
        </div>
        <br>
        <div>
          <a href="/lab/arima_rejilla">
            <button class="boton-modelo">Parámetros (p, d, q) creados con búsqueda por rejilla</button>
          </a>
          <div class="ayuda"> 
            <img class="icono-ayuda" src="{% static 'icons/help.svg' %}" alt="HelpIcon" width="25" height="25">
            <span class="mensaje-ayuda">Para ver una estimación de la próxima sesión. Tendrás que definir una rejilla de búsqueda para los parámetros (p, d, q) en la siguiente ventana. Este proceso de búsqueda por rejilla es lento, pero puede merecer la pena. Para eso experimentamos ¿verdad?</span>
          </div>
        </div>
        <br>
      </div>
    </div>
    <div class="col">
      <button class="otros-botones" onclick="mostrarOcultosAlgoTrading()">Trading algorítmico</button>
      <div id="ocultos-algo" class="ocultos-algo">
        <br>
          <div>
            <a href="/lab/cruce_medias">
              <button class="boton-modelo">Algoritmo de cruce de medias</button>
            </a>
            <div class="ayuda"> 
              <img class="icono-ayuda" src="{% static 'icons/help.svg' %}" alt="HelpIcon" width="25" height="25">
              <span class="mensaje-ayuda">Para calcular cómo se habría comportado un algoritmo de cruce de medias simples y poder deterinar si conviene usarlo como estrategia de inversión</span>
            </div>
          </div>
        <br>
          <div>
            <a href="/lab/estrategia_ML">
              <button class="boton-modelo">Estrategia basada en ML</button>
            </a>
            <div class="ayuda"> 
              <img class="icono-ayuda" src="{% static 'icons/help.svg' %}" alt="HelpIcon" width="25" height="25">
              <span class="mensaje-ayuda">Para predecir si en la próxima sesión un índice subirá, bajará o no hará movimientos.</span>
            </div>
          </div>
        <br>
      </div>
    </div>
    
  </div>
  <br><br><br><br>
  <!-- ...............................................NUEVA FILA............................................... -->
  <br>
</div>

<script>
function mostrarOcultosARIMA() {
  const ocultos = document.getElementById("ocultos-arima");
  ocultos.classList.toggle('ocultos-arima');
}
function mostrarOcultosLSTM() {
  const ocultos = document.getElementById("ocultos-lstm");
  ocultos.classList.toggle('ocultos-lstm');
}
function mostrarOcultosAlgoTrading() {
  const ocultos = document.getElementById("ocultos-algo");
  ocultos.classList.toggle('ocultos-algo');
}
</script>

{% endblock %}