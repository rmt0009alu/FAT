<!-- templates/lab.html -->
{% extends 'base.html' %}

{% load static %}

{% block content %}

<!-- Estos botones están en las templates de la app News porque es la 
que tiene la página de portada 'home' -->
{% include 'includes/_botones_cabecera.html' %}

<!-- Mis estilos -->
<link rel="stylesheet" type="text/css" href="{% static 'css/estilos_lab.css' %}">

<div>
  <br><p class="cabecera">Bienvenido/a al Lab, {{ usuario }}</p>
</div>

<div class="container">
  <div class="row">
    <div class="col">
      <button class="otros-botones" onclick="mostrarOcultosARIMA()">ARIMA</button>
      <div id="ocultos-arima" class="ocultos-arima">
        <br>
        <div>
          <a href="/lab/arima_manual">
            <button class="boton-modelo">Parámetros (p, d, q) introducidos por usuario</button>
          </a>
          <div class="ayuda"> 
            <img class="icono-ayuda" src="{% static 'icons/help.svg' %}" alt="HelpIcon" width="25" height="25">
            <span class="mensaje-ayuda">Para ver una estimación de la próxima sesión. Si conoces los parámetros (p, d, q) que quieres utilizar, porque ajustan un modelo para un stock que conoces bien, este es tu sitio.</span>
          </div>
        </div>
        <br>
        <div>
          <a href="/lab/arima_auto">
            <button class="boton-modelo">Parámetros (p, d, q) estimados automáticamente</button>
          </a>
          <div class="ayuda"> 
            <img class="icono-ayuda" src="{% static 'icons/help.svg' %}" alt="HelpIcon" width="25" height="25">
            <span class="mensaje-ayuda">Para ver una estimación de la próxima sesión. Los parámetros (p,d,q) se estimarán con 'auto_arima' de 'pmdarima.arima'. Los resultados pueden ser malos, pero es muy rápido. </span>
          </div>
        </div>
        <br>
        <div>
          <a href="/lab/arima_rejilla">
            <button class="boton-modelo">Parámetros (p, d, q) creados con búsqueda por rejilla</button>
          </a>
          <div class="ayuda"> 
            <img class="icono-ayuda" src="{% static 'icons/help.svg' %}" alt="HelpIcon" width="25" height="25">
            <span class="mensaje-ayuda">Para ver una estimación de la próxima sesión. Tendrás que definir una rejilla de búsqueda para los parámetros (p, d, q) en la siguiente ventana. Este proceso de búsqueda por rejilla es lento, pero puede merecer la pena. Para eso experimentamos ¿verdad?</span>
          </div>
        </div>
        <br>
      </div>
    </div>

    <!-- Botones para opciones de redes LSTM -->
    <div class="col">
      <button class="otros-botones" onclick="mostrarOcultosLSTM()">LSTM</button>
      <div id="ocultos-lstm" class="ocultos-lstm">
        <br>
        <div>
          <a href="/lab/lstm">
            <button class="boton-modelo">LSTM con una capa oculta de 5 neuronas y salida densa</button>
          </a>
          <div class="ayuda"> 
            <img class="icono-ayuda" src="{% static 'icons/help.svg' %}" alt="HelpIcon" width="25" height="25">
            <span class="mensaje-ayuda">Para crear, compilar y entrenar una red LSTM que permita estimar el valor de cierre de la próxima sesión. Aquí hay una red con una capa oculta de 5 neuronas y una capa de salida completamente conectada.</span>
          </div>
        </div>
        <!-- <br>
        <div>
          <a href="/lab/lstm">
            <button class="boton-modelo">LSTM 2</button>
          </a>
          <div class="ayuda"> 
            <img class="icono-ayuda" src="{% static 'icons/help.svg' %}" alt="HelpIcon" width="25" height="25">
            <span class="mensaje-ayuda">Para hacer algo con LSTM</span>
          </div>
        </div>
        <br>
        <div>
          <a href="/lab/lstm">
            <button class="boton-modelo">LSTM 3</button>
          </a>
          <div class="ayuda"> 
            <img class="icono-ayuda" src="{% static 'icons/help.svg' %}" alt="HelpIcon" width="25" height="25">
            <span class="mensaje-ayuda">Para hacer algo con LSTM</span>
          </div>
        </div>
        <br> -->
      </div>
    </div>
  </div>
  <!-- <div class="row">
    <div class="col">
      <a href="/lab/fbprophet"><button>FBPROPHET</button></a>
    </div>
    <div class="col">
      <a href="/lab/loquesea"><button>LOQUESEA</button></a>
    </div>
  </div> -->
  <br>
</div>

<script>
function mostrarOcultosARIMA() {
  const ocultos = document.getElementById("ocultos-arima");
  ocultos.classList.toggle('ocultos-arima');
}
function mostrarOcultosLSTM() {
  const ocultos = document.getElementById("ocultos-lstm");
  ocultos.classList.toggle('ocultos-lstm');
}
</script>

{% endblock %}